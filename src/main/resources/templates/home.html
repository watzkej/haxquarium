<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout :: head('Home')">
    <title>Home - HaxQuarium</title>
</head>
<body>
    <nav th:replace="fragments/layout :: navbar"></nav>

    <div class="container mt-4">
        <!-- Hero Section -->
        <div class="jumbotron bg-primary text-white p-5 rounded">
            <h1 class="display-4">Welcome to HaxQuarium</h1>
            <p class="lead">A security training application themed as an aquarium store.</p>
            <hr class="my-4">
            <p>Learn about the OWASP Top 10 vulnerabilities by finding and exploiting them in this application.</p>
            <a class="btn btn-light btn-lg" th:href="@{/vulnerabilities}" role="button">Start Hacking</a>
        </div>

        <!-- Featured Products -->
        <div class="mt-5">
            <h2>Featured Products</h2>
            <div class="row">
                <div class="col-md-4 mb-4" th:each="product : ${featuredProducts}" th:if="${productStat.index < 3}">
                    <div class="card h-100">
                        <img th:src="${product.imageUrl}" class="card-img-top" alt="Product Image"
                             onerror="this.src='/images/placeholder.svg'">
                        <div class="card-body">
                            <h5 class="card-title" th:text="${product.name}">Product Name</h5>
                            <p class="card-text" th:text="${#strings.abbreviate(product.description, 100)}">Description</p>
                            <p class="card-text text-primary fw-bold" th:text="'$' + ${product.price}">$0.00</p>
                            <a th:href="@{/products/{id}(id=${product.id})}" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-3">
                <a th:href="@{/products}" class="btn btn-outline-primary">View All Products</a>
            </div>
        </div>

        <!-- OWASP Top 10 Section -->
        <div class="mt-5">
            <h2>OWASP Top 10 Vulnerabilities</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">A01:2021-Broken Access Control</h5>
                            <p class="card-text">Access control enforces policy such that users cannot act outside of their intended permissions.</p>
                            <a th:href="@{/vulnerabilities/category/A01:2021-Broken Access Control}" class="btn btn-primary">Learn More</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">A02:2021-Cryptographic Failures</h5>
                            <p class="card-text">Failures related to cryptography that often lead to sensitive data exposure or system compromise.</p>
                            <a th:href="@{/vulnerabilities/category/A02:2021-Cryptographic Failures}" class="btn btn-primary">Learn More</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title">A03:2021-Injection</h5>
                            <p class="card-text">Injection flaws, such as SQL, NoSQL, OS, and LDAP injection, occur when untrusted data is sent to an interpreter.</p>
                            <a th:href="@{/vulnerabilities/category/A03:2021-Injection}" class="btn btn-primary">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-3">
                <a th:href="@{/vulnerabilities}" class="btn btn-outline-primary">View All Vulnerabilities</a>
            </div>
        </div>
    </div>

    <footer th:replace="fragments/layout :: footer"></footer>
    <div th:replace="fragments/layout :: scripts"></div>
</body>
</html>
